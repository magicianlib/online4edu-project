name: sync github repo to gitee mirror

on: push

jobs:

  mirror-sync:

    runs-on: ubuntu-latest

    steps:
      - name: Checkout source code
        uses: actions/checkout@v2

      - name: Mirror the Github repos to Gitee.
        uses: Yikun/hub-mirror-action@master
        with:

          src: 'github/magicianlib'
          dst: 'gitee/magicianlib'

          dst_key: ${{ secrets.GITEE_PRIVATE_KEY }}
          dst_token: ${{ secrets.GITEE_TOKEN }}

          # org or user, default is user
          account_type: user
          force_update: true
          debug: true
